
extends ../layouts/default.jade

block breadcrumbs
    ul
        li
            span.fa.fa-cloud-upload
            |  Submit


block content
    div.submission-container(align='center')
        div.submission-header
            span(style='font-size: 3.3em').fa.fa-cloud-upload
            p(style='font-size: 1.7em; font-weight: bolder')
                | Tell us about your submission
            p
                | #[span(style='font-weight: bolder;') Bold fields] are required

            ul.nav.nav-tabs(role="tablist")
                li.active(role="presentation")
                    a(data-toggle="tab", href="#existing", role="tab", aria-controls="existing") Submit to Existing Collection
                li(role="presentation")
                    a(data-toggle="tab", href="#new", role="tab", aria-controls="new") Submit to New Collection

            div.tab-content
                div.tab-pane.active#existing(role="tabpanel")
                    form(action=submission.actionURI,method='post',enctype='multipart/form-data').submission-form
                        if errors.length > 0
                            each error in errors
                                div.alert.alert-danger
                                    p #{error}
                                br
                        br
                        input(type="hidden", name="submitType", value="existing")
                        div.row
                            div.col-sm-12
                                div.form-group
                                    label(for="collections") Destination Collection
                                    select(name='collections' style="width:700px;" id='collections' multiple data-placeholder='Choose a collection...').chosen-select
                                        for collection in collections
                                            option(value=collection.uri) #{collection.name}

                        div.row
                            div.col-md-12
                                div.form-group
                                   label SBOL/GenBank/FASTA File
                                   br
                                   input(type='file',name='file',value=submission.file)
            
                        div.row
                            div.col-sm-12
                                div.checkbox(style="margin-left:20px")
                                    label 
                                        input#overwrite_objects(type="checkbox", name="overwrite_objects", value=false, checked=false)
                                        |    Overwrite Existing Objects
                        div.row
                            div.col-md-12
                                button(type='submit').btn.btn-primary.btn-lg Submit

                div.tab-pane#new(role="tabpanel")
                    form.form(action=submission.actionURI,method='post',enctype='multipart/form-data')
                        if errors.length > 0
                            each error in errors
                                div.alert.alert-danger
                                    p #{error}
                                br
                        br
                        input(type="hidden", name="copyType", value="new")
                        div.row
                            div.col-md-6
                                div.form-group
                                    label(for="id") Collection ID
                                    input.form-control(type='text', id="id", name='id',placeholder='Collection ID',value=submission.id)
                            div.col-md-6
                                div.form-group
                                    label(for='version') Version
                                    input.form-control(type='text', id='version', name='version',placeholder='Version',value=submission.version)
                        div.row
                            div.col-md-12
                                div.form-group
                                    label(for="name") Name
                                    input.form-control(name='name',id="name",placeholder='Name',value=submission.name)

                        div.row
                            div.col-md-12
                                div.form-group
                                    label(for="description") Description
                                    textarea.form-control(name='description', id="description"
                                            placeholder='The more you say, the easier it will be to find your design...')
                                            | #{submission.description}
                        div.row
                            div.col-md-12
                                div.form-group
                                    label(for="citations") Citations
                                    input.form-control(name='citations', id="citations"
                                                       placeholder='Comma separated Pubmed IDs, we\'ll do the rest!'
                                                       value=submission.citations)

                        div.row
                            div.col-md-12
                                div.form-group
                                    label(for="collections") Collection
                                    select(name='collections' style="width:700px;" id='collections' multiple data-placeholder='Select Some Public Collections').chosen-select
                                        for collection in collections
                                            option(value=collection.uri) #{collection.name}

                        div.row
                            div.col-md-12
                                div.form-group
                                   label SBOL/GenBank/FASTA File
                                   br
                                   input(type='file',name='file',value=submission.file)

                        div.row
                            div.col-sm-12
                                input(type="radio", name="overwrite_merge", value="0", checked=true)
                                |    Prevent submission, if collection exists
                        div.row
                            div.col-sm-12
                                input(id="om", type="radio", name="overwrite_merge", value="1", checked=overwrite=="Overwrite")
                                |    Overwrite submission, if collection exists
                        div.row
                            div.col-sm-12
                                input(type="radio", name="overwrite_merge", value="2", checked=overwrite=="Merge")
                                |    Merge and prevent, if member of collection exists
                        div.row
                            div.col-sm-12
                                input(type="radio", name="overwrite_merge", value="3", checked=overwrite=="Merge")
                                |    Merge and replace, if member of collection exists.
                        br

                        div.row
                            div.col-md-12
                                button(type='submit').btn.btn-primary.btn-lg Submit







                

