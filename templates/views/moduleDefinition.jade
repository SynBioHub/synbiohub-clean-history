
extends ../layouts/topLevel.jade

block topLevelPreview
    if meta.displayList
        div.row
            div.col-md-12.text-center
            div#design

block topLevelPropertyTable

    if meta.models.length > 0 
        tr
            td Model
            td
                for model in meta.models
                    if (model.url)
                        a(href=model.url) #{model.id}
                    else
                        a(href=model.toString()) #{model.toString()}
                    br
            td(nowrap="nowrap") 
                for model in meta.models
                    if (model.version)
                        != 'Version '+model.version
                    br

block topLevelPanels
                if modules.length > 0
                    .panel.panel-default
                        .panel-heading
                            h4.panel-title
                                a.accordion-toggle(data-toggle='collapse', href='#collapseModules')
                                    | <b>Modules</b>
                        #collapseModules.panel-collapse.collapse
                            .panel-body
                                table.table.table-striped.entry-detail-table
                                    tr
                                        td 
                                            a(href='http://sbolstandard.org/v2#Module') Instance
                                        td 
                                            a(href='http://sbolstandard.org/v2#definition') Definition
                                    tr
                                        td
                                            for module in meta.modules
                                                a(href=module.url) #{module.name}
                                                br
                                        td
                                            for module in meta.modules
                                                a(href=module.definition.url) #{module.definition.name}
                                                br

                if functionalComponents.length > 0
                    .panel.panel-default
                        .panel-heading
                            h4.panel-title
                                a.accordion-toggle(data-toggle='collapse', href='#collapseFunctionalComponents')
                                    | <b>Functional Components</b>
                        #collapseFunctionalComponents.panel-collapse.collapse
                            .panel-body
                                table.table.table-striped.entry-detail-table
                                    tr
                                        td 
                                            a(href='http://sbolstandard.org/v2#access') Access
                                            | 
                                            | /
                                            | 
                                            a(href='http://sbolstandard.org/v2#direction') Direction
                                        td 
                                            a(href='http://sbolstandard.org/v2#FunctionalComponent') Instance
                                        td 
                                            a(href='http://sbolstandard.org/v2#definition') Definition
                                    tr
                                        td
                                            for functionalComponent in meta.functionalComponents
                                                a(href=functionalComponent.accessUrl) #{functionalComponent.accessStr}
                                                | 
                                                | /
                                                | 
                                                a(href=functionalComponent.directionUrl) #{functionalComponent.directionStr}
                                                br
                                        td
                                            for functionalComponent in meta.functionalComponents
                                                a(href=functionalComponent.url) #{functionalComponent.name}
                                                br
                                        td
                                            for functionalComponent in meta.functionalComponents
                                                a(href=functionalComponent.definition.url) #{functionalComponent.definition.name}
                                                br

                if interactions.length > 0
                    .panel.panel-default
                        .panel-heading
                            h4.panel-title
                                a.accordion-toggle(data-toggle='collapse', href='#collapseInteractions')
                                    | <b>Interactions</b>
                        #collapseInteractions.panel-collapse.collapse
                            .panel-body
                                table.table.table-striped.entry-detail-table
                                    for interaction in meta.interactions
                                        tr
                                            td 
                                                a(href='http://sbolstandard.org/v2#Interaction') Interaction
                                            td
                                                a(href=interaction.url, title=interaction.url) #{interaction.defName}
                                            td
                                                a(href=interaction.typeURL, title=interaction.typeURL) #{interaction.typeStr}
                                        if interaction.participations.length > 0
                                            for participation in interaction.participations
                                                tr
                                                    td
                                                        a(href='http://sbolstandard.org/v2#Participation') Participation
                                                    td 
                                                        a(href=participation.defUrl, title=participation.defUrl) #{participation.defName}
                                                        a(href=participation.url,title='Learn more about this participation') 
                                                            span.fa.fa-info-circle
                                                    td 
                                                        a(href=participation.roleURL, title=participation.roleURL) #{participation.roleStr}
            
